<div class="dashboard-container">
  <div class="container">
    <div class="titre">
      <h2><i class="fa-solid fa-chart-line" style="color:#007BFF;"></i>Tableau de bord</h2>
    </div>
    <div class="content-container">
      <div class="cards">
        <swiper-container
        space-between="40"
        slides-per-view="3"
        [breakpoints]="{
          '0': { slidesPerView: 1 },
          '548': { slidesPerView: 1 },
          '550': { slidesPerView: 2 },
          '1024': { slidesPerView: 3 }
        }"
        pagination-clickable="true">
      <ng-container>
        <swiper-slide>
          <div class="card">
            <div class="card-header">
              <h3 class="card-title"><i class="fa-solid fa-briefcase" style="color:#343A40;"></i>Offres publiées</h3>
            </div>
            <div class="card-body">
              <p>{{ totalOffres }}</p>
            </div>
          </div>
        </swiper-slide>

        <swiper-slide>
          <div class="card">
            <div class="card-header">
              <h3 class="card-title"><i class="fa-solid fa-bullhorn" style="color:#17A2B8;"></i>Offres actives</h3>
            </div>
            <div class="card-body">
              <p>{{ totalOffres }}</p>
            </div>
          </div>
        </swiper-slide>

        <!-- <div>
          <h3>Tableau de bord de l'entreprise</h3>
          <p>Total des offres publiées: {{ totalOffres }}</p>
        </div> -->



        <swiper-slide>
          <div class="card">
            <div class="card-header">
              <h3 class="card-title"><i class="fa-solid fa-file-lines" style="color:#343A40;"></i>Candidatures reçues</h3>
            </div>
            <div class="card-body">
              <p>{{ totalCandidatures }}</p>
            </div>
          </div>
        </swiper-slide>

        <swiper-slide>
          <div class="card">
            <div class="card-header">
              <h3 class="card-title"><i class="fa-solid fa-hourglass-half" style="color:#FFC107;"></i>Candidatures en attente</h3>
            </div>
            <div class="card-body">
              <p>{{ candidaturesEnAttenteCount }}</p>
            </div>
          </div>
        </swiper-slide>

        <swiper-slide>
          <div class="card">
            <div class="card-header">
              <h3 class="card-title"><i class="fa-solid fa-check-circle" style="color:#28A745;"></i>Candidatures acceptées</h3>
            </div>
            <div class="card-body">
              <p>{{ totalCandidaturesAcceptees }}</p>
            </div>
          </div>
        </swiper-slide>

        <swiper-slide>
          <div class="card">
            <div class="card-header">
              <h3 class="card-title"><i class="fa-solid fa-times-circle" style="color:#DC3545;"></i>Candidatures rejetées</h3>
            </div>
            <div class="card-body">
              <p>{{ totalCandidaturesRejetees }}</p>
            </div>
          </div>
        </swiper-slide>

        <swiper-slide>
          <div class="card">
            <div class="card-header">
              <h3 class="card-title"><i class="fa-solid fa-user-tie" style="color:#17A2B8;"></i>Encadrants</h3>
            </div>
            <div class="card-body">
              <p>0</p>
            </div>
          </div>
        </swiper-slide>

        <swiper-slide>
          <div class="card">
            <div class="card-header">
              <h3 class="card-title"><i class="fa-solid fa-user-graduate" style="color:#007BFF; "></i>Entretiens à venir</h3>
            </div>
            <div class="card-body">
              <p>0</p>
            </div>
          </div>
        </swiper-slide>

        <swiper-slide>
          <div class="card">
            <div class="card-header">
              <h3 class="card-title"><i class="fa-solid fa-calendar-xmark" style="color:#6C757D;"></i>Offres expirées</h3>
            </div>
            <div class="card-body">
              <p>0</p>
            </div>
          </div>
        </swiper-slide>
      </ng-container>
      </swiper-container>

      <!-- <div class="actions">
        <h2>Action Rapide</h2>
        <div class="btns">
          <button class="btn btn-primary"><i class="fa-solid fa-plus" style="color:#007BFF;"></i>Ajouter une offre</button>
          <button class="btn btn-secondary"><i class="fa-solid fa-pen-to-square" style="color:#007BFF;"></i>Gérer les offres</button>
          <button class="btn btn-secondary"><i class="fa-solid fa-users" style="color:#007BFF;"></i>Voir les candidatures</button>
        </div>
      </div> -->
      <div class="quick-actions">
        <h2>Actions rapides</h2>
        <div class="actions">
          <button routerLink="/entreprise-dashboard/ajouter-offre" class="btn" style="background-color:#007BFF; color:#FFFFFF; border:none;">
            <i class="fa-solid fa-plus" style="color:#FFFFFF; margin-right:5px;"></i>Ajouter une offre
          </button>

          <button routerLink="/entreprise-dashboard/gestion-offres" class="btn" style="background-color:#FFFFFF; color:#007BFF; border:1px solid #007BFF;">
            <i class="fa-solid fa-pen-to-square" style="color:#007BFF; margin-right:5px;"></i>Gérer les offres
          </button>

          <button routerLink="/entreprise-dashboard/add-encadrant" class="btn" style="background-color:#17A2B8; color:#fff;">
            <i class="fa-solid fa-user-plus" style="color:#FFFFFF;"></i>Ajouter un encadrant
          </button>

          <button routerLink="/entreprise-dashboard/planifier-entretien" class="btn" style="background-color:#28A745; color:#fff;">
            <i class="fa-solid fa-calendar-plus" style="color:#FFFFFF;"></i>Planifier un entretien
          </button>

          <button routerLink="/entreprise-dashboard/candidatures-list" class="btn" style="background-color:#6610F2; color:#fff;">
            <i class="fa-solid fa-eye" style="color:#FFFFFF;"></i>Voir les candidatures
          </button>
        </div>
      </div>

      <div class="section">
        <h2><i class="fa-solid fa-clock-rotate-left"></i>Candidatures récentes</h2>
        <div class="table-container">
          <table class="entretien-table">
            <thead>
              <tr>
                <th>Prénom</th>
                <th>Nom</th>
                <th>Email</th>
                <th>Offre</th>
                <th>Statut</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let candidature of candidatures">
                <td>{{ candidature.User.Etudiant.prenom }}</td>
                <td>{{ candidature.User.Etudiant.nom }}</td>
                <td>{{ candidature.User.email }}</td>
                <td>{{ candidature.Offre.titre }}</td>
                <td>en attente</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="section">
        <h2><i class="fa-solid fa-handshake"></i>Entretiens à venir</h2>
        <ul class="interviews-list">
          <!-- <li><strong>Alice Koné</strong> - 2025-04-20 à 10h - En ligne</li>
          <li><strong>Jean Coulibaly</strong> - 2025-04-21 à 14h - Bureau A203</li> -->
        </ul>
      </div>

      <div class="section alerts">
        <h2><i class="fa-solid fa-bell"></i>Alertes</h2>
        <ul>
          <!-- <li><i class="fa-solid fa-triangle-exclamation" style="color:#FFC107;"></i>2 entretiens prévus aujourd'hui</li>
          <li><i class="fa-solid fa-hourglass-end" style="color:#17A2B8;"></i>3 offres expirent dans 2 jours</li>
          <li><i class="fa-solid fa-inbox" style="color:#6610F2;"></i>5 candidatures en attente de traitement</li> -->
        </ul>
      </div>
    </div>

    </div>
  </div>
</div>

<!-- <div class="dashboard-container">
  <h1><i class="fa-solid fa-chart-line" style="color:#007BFF;"></i>Tableau de bord</h1>
  <div class="stats-cards">
    <div class="card">
      <i class="fa-solid fa-bullhorn" style="color:#007BFF; font-size: 24px;"></i>
      <h2>12</h2>
      <p>Offres publiées</p>
    </div>
    <div class="card">
      <i class="fa-solid fa-file-lines" style="color:#6610F2; font-size: 24px;"></i>
      <h2>{{ totalCandidatures }}</h2>
      <p>Candidatures reçues</p>
    </div>
    <div class="card">
      <i class="fa-solid fa-user-tie" style="color:#17A2B8; font-size: 24px;"></i>
      <h2>4</h2>
      <p>Encadrants</p>
    </div>
    <div class="card">
      <i class="fa-solid fa-user-graduate" style="color:#007BFF; font-size: 24px;"></i>
      <h2>18</h2>
      <p>Étudiants encadrés</p>
    </div>
    <div class="card">
      <i class="fa-solid fa-calendar-check" style="color:#28A745; font-size: 24px;"></i>
      <h2>5</h2>
      <p>Entretiens à venir</p>
    </div>
    <div class="card">
      <i class="fa-solid fa-file-circle-check" style="color:#6C757D; font-size: 24px;"></i>
      <h2>9</h2>
      <p>Rapports reçus</p>
    </div>
  </div>

  <div class="quick-actions">
    <h2>Actions rapides</h2>
    <div class="actions">
      <button><i class="fa-solid fa-plus"></i>Ajouter une offre</button>
      <button><i class="fa-solid fa-user-plus"></i>Ajouter un encadrant</button>
      <button><i class="fa-solid fa-calendar-plus"></i>Planifier un entretien</button>
      <button><i class="fa-solid fa-eye"></i>Voir les candidatures</button>
    </div>
  </div>

  <div class="section">
    <h2><i class="fa-solid fa-clock-rotate-left"></i>Candidatures récentes</h2>
    <table>
      <thead>
        <tr>
          <th>Nom</th>
          <th>Offre</th>
          <th>Date</th>
          <th>Statut</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Amina Traoré</td>
          <td>Développeur Full Stack</td>
          <td>2025-04-16</td>
          <td>En attente</td>
        </tr>
        <tr>
          <td>Mohamed Diallo</td>
          <td>Ingénieur Réseaux</td>
          <td>2025-04-15</td>
          <td>Acceptée</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="section">
    <h2><i class="fa-solid fa-handshake"></i>Entretiens à venir</h2>
    <ul class="interviews-list">
      <li><strong>Alice Koné</strong> - 2025-04-20 à 10h - En ligne</li>
      <li><strong>Jean Coulibaly</strong> - 2025-04-21 à 14h - Bureau A203</li>
    </ul>
  </div>

  <div class="section alerts">
    <h2><i class="fa-solid fa-bell"></i>Alertes</h2>
    <ul>
      <li><i class="fa-solid fa-triangle-exclamation" style="color:#FFC107;"></i>2 entretiens prévus aujourd'hui</li>
      <li><i class="fa-solid fa-hourglass-end" style="color:#17A2B8;"></i>3 offres expirent dans 2 jours</li>
      <li><i class="fa-solid fa-inbox" style="color:#6610F2;"></i>5 candidatures en attente de traitement</li>
    </ul>
  </div>
</div> -->


<!-- <div class="container">
  <div class="titre">
    <h2>
      <i class="fa-solid fa-tachometer-alt" style="color:#343A40"></i>Tableau de bord
    </h2>
    <p>Vue d’ensemble des indicateurs clés et activités récentes de votre entreprise.</p>
  </div>

  <div class="kpi-container">
    <div class="card kpi-card">
      <div class="card-header">
        <i class="fa-solid fa-briefcase" style="color:#007BFF"></i>Offres actives
      </div>
      <div class="card-body">
        <h3>24</h3>
      </div>
    </div>
    <div class="card kpi-card">
      <div class="card-header">
        <i class="fa-solid fa-envelope" style="color:#28A745"></i>Candidatures ce mois
      </div>
      <div class="card-body">
        <h3>128</h3>
      </div>
    </div>
    <div class="card kpi-card">
      <div class="card-header">
        <i class="fa-solid fa-percentage" style="color:#17A2B8"></i>Taux de conversion
      </div>
      <div class="card-body">
        <h3>45%</h3>
      </div>
    </div>
    <div class="card kpi-card">
      <div class="card-header">
        <i class="fa-solid fa-clock" style="color:#ffc107"></i>Temps moyen de traitement
      </div>
      <div class="card-body">
        <h3>5 jours</h3>
      </div>
    </div>
  </div>

  <div class="charts-container">
    <div class="card chart-card">
      <div class="card-header">
        <i class="fa-solid fa-chart-line" style="color:#17A2B8"></i>Évolution mensuelle
      </div>
      <div class="card-body">
        <div id="chart-evolution" class="chart"></div>
      </div>
    </div>
    <div class="card chart-card">
      <div class="card-header">
        <i class="fa-solid fa-chart-pie" style="color:#6F42C1"></i>Répartition des candidatures
      </div>
      <div class="card-body">
        <div id="chart-repartition" class="chart"></div>
      </div>
    </div>
  </div>

  <div class="actions-container">
    <div class="card action-card">
      <button class="btn btn-primary">
        <i class="fa-solid fa-plus-circle"></i>Nouvelle offre
      </button>
    </div>
    <div class="card action-card">
      <button class="btn btn-primary">
        <i class="fa-solid fa-upload"></i>Importer offres
      </button>
    </div>
    <div class="card action-card">
      <button class="btn btn-primary">
        <i class="fa-solid fa-hourglass-half"></i>Candidatures en attente
      </button>
    </div>
  </div>

  <div class="card activity-card">
    <div class="card-header">
      <i class="fa-solid fa-history" style="color:#343A40"></i>Activité récente
    </div>
    <div class="card-body">
      <ul>
        <li>Jean Dupont a postulé à l'offre Développeur (2h)</li>
        <li>Offre Designer modifiée (5h)</li>
        <li>Candidature acceptée - Marie Martin (1j)</li>
      </ul>
    </div>
  </div>

  <div class="card notifications-card">
    <div class="card-header">
      <i class="fa-solid fa-bell" style="color:#DC3545"></i>Notifications
    </div>
    <div class="card-body">
      <ul>
        <li>Entretien à planifier - Offre Développeur (demain)</li>
        <li>Expiration offre Marketing (3 jours)</li>
      </ul>
    </div>
  </div>
</div> -->
